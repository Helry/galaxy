(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{146:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("React Native 中文网（以下我们简称“中文网”）对此已经做了详尽的说明，请移步："),a("a",{attrs:{href:"http://t.cn/EwjUTLT",target:"_blank",rel:"noopener noreferrer"}},[t._v("搭建开发环境"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("作为补充，这里我们奉上 NodeJs、Java环境的配置和维护：")]),t._v(" "),a("ul",[a("li",[t._v("NodeJs开发环境维护："),a("a",{attrs:{href:"http://t.cn/EwjGwYE",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://t.cn/EwjGwYE"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("Java环境维护："),a("a",{attrs:{href:"http://t.cn/EwjG8TQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://t.cn/EwjGwYE"),a("OutboundLink")],1)])]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("ul",[a("li",[t._v("react-devtools\n"),a("ul",[a("li",[a("a",{attrs:{href:"http://t.cn/RZ9KB7U",target:"_blank",rel:"noopener noreferrer"}},[t._v("Chrome React Developer Tools"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://t.cn/EhzaHUR",target:"_blank",rel:"noopener noreferrer"}},[t._v("Firefox React Developer Tools"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://t.cn/Ewjqgec",target:"_blank",rel:"noopener noreferrer"}},[t._v("Standalone app"),a("OutboundLink")],1)])])]),t._v(" "),a("li",[a("a",{attrs:{href:"http://t.cn/EhzKUdI",target:"_blank",rel:"noopener noreferrer"}},[t._v("react-native-debugger"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://t.cn/EhzKUdI",target:"_blank",rel:"noopener noreferrer"}},[t._v("reactotron"),a("OutboundLink")],1)])]),t._v(" "),t._m(4),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://nimbledroid.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("nimbledroid"),a("OutboundLink")],1)])]),t._v(" "),t._m(5),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/skylot/jadx",target:"_blank",rel:"noopener noreferrer"}},[t._v("jadx"),a("OutboundLink")],1)])]),t._v(" "),t._m(6),t._v(" "),a("ol",[a("li",[t._v("下载安装 "),a("a",{attrs:{href:"http://mumu.163.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MUMU模拟器"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("打开MUMU模拟器")]),t._v(" "),t._m(7),t._v(" "),t._m(8)]),t._v(" "),t._m(9),t._v(" "),a("p",[t._v('使用 React Native 命令行工具来创建一个名为"AwesomeProject"的新项目：')]),t._v(" "),t._m(10),t._m(11),t._v(" "),t._m(12),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://t.cn/EwYmviS",target:"_blank",rel:"noopener noreferrer"}},[t._v("react-native-releases/CHANGELOG.md"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.jianshu.com/p/cc0174b4a9c5",target:"_blank",rel:"noopener noreferrer"}},[t._v("react-native版本迁移教程"),a("OutboundLink")],1)])]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._m(16),t._v(" "),a("blockquote",[a("p",[t._v("如果还不知道 Symbol 为何物的朋友，墙裂推荐读读 "),a("a",{attrs:{href:"http://t.cn/EwuvKej",target:"_blank",rel:"noopener noreferrer"}},[t._v("ES6的Symbol竟然那么强大，面试中的加分点啊"),a("OutboundLink")],1),t._v(" 这篇文章")])]),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("如上警告，不幸的是，React Native 中默认是不支持 Symbol的，幸运的是我们并不是对此束手无策，下面我就为大家推荐两种解决办法：")]),t._v(" "),a("p",[t._v("你可是使用 ES6 Symbol polyfill 来支持：")]),t._v(" "),t._m(18),t._m(19),t._v(" "),t._m(20),a("p",[t._v("另外，我们也推荐 "),a("a",{attrs:{href:"http://t.cn/EwuPlyh",target:"_blank",rel:"noopener noreferrer"}},[t._v("jsc-android"),a("OutboundLink")],1),t._v("，使用它你可以不必使用polyfill，并且它还能使你的app更快。")]),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),a("p",[t._v("你是否还在使用冗长的命令调试项目？")]),t._v(" "),t._m(23),t._v(" "),a("p",[t._v("你是否还在为以上问题而苦恼？？？")]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),a("p",[t._v("参考 "),a("a",{attrs:{href:"http://t.cn/Ewc4CVH",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://t.cn/Ewc4CVH"),a("OutboundLink")],1)]),t._v(" "),t._m(34),t._v(" "),t._m(35),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._m(50),t._v(" "),t._m(51),a("p",[t._v("如果提示密码错误，而密码又是对的，那就直接如下配置：")]),t._v(" "),t._m(52),t._m(53),t._v(" "),t._m(54),t._v(" "),a("p",[t._v("Proguard是一个Java字节码混淆压缩工具，它可以移除掉 React Native Java（和它的依赖库中）中没有被使用到的部分，最终有效的减少APK的大小。")]),t._v(" "),t._m(55),t._v(" "),t._m(56),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),t._m(60),t._m(61),t._v(" "),a("p",[t._v("默认情况下，生成的 APK 会同时包含针对于 x86 和 ARMv7a 两种 CPU 架构的原生代码。这样可以让我们更方便的向其他人分享这个 APK，因为它几乎可以运行在所有的 Android 设备上。但是，这会导致所有设备上都有一些根本不会运行的代码，白白占据了空间。目前安卓设备绝大多数是 ARM 架构，因此对于大部分应用来说可以考虑去掉 x86 架构的支持。")]),t._v(" "),t._m(62),t._v(" "),a("blockquote",[a("p",[t._v("具体参考："),a("a",{attrs:{href:"http://t.cn/Ewchm37",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://t.cn/Ewchm37"),a("OutboundLink")],1)])]),t._v(" "),t._m(63),t._v(" "),a("blockquote",[a("p",[t._v("zipalign的工具的使用："),a("a",{attrs:{href:"http://t.cn/EwcA9K8",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://t.cn/EwcA9K8"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("这里只是优化apk，没有执行压缩相关操作")]),t._v(" "),t._m(64),t._m(65),t._v(" "),a("blockquote",[a("p",[t._v("移除无用的resource文件："),a("a",{attrs:{href:"http://t.cn/EwcLLUa",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://t.cn/EwcLLUa"),a("OutboundLink")],1)])]),t._v(" "),t._m(66),t._m(67),t._v(" "),t._m(68),t._v(" "),a("p",[t._v("选择保留什么语言要根据产品的用户和市场来定，如果只选择默认英语和中文语言，配置如下：")]),t._v(" "),t._m(69),t._m(70),t._v(" "),t._m(71),t._m(72),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78),t._m(79),t._v(" "),t._m(80),t._v(" "),a("p",[t._v("解决办法是配置您的应用进行 Dalvik 可执行文件分包：")]),t._v(" "),t._m(81),t._v(" "),t._m(82),t._m(83),t._v(" "),a("p",[t._v("如何知道哪些xml和图片未被使用到？使用Android Studio的Lint，步骤：")]),t._v(" "),t._m(84),t._v(" "),a("p",[t._v("或者")]),t._v(" "),t._m(85),t._v(" "),t._m(86),t._v(" "),t._m(87),t._v(" "),t._m(88),t._v(" "),t._m(89),t._v(" "),t._m(90),t._v(" "),t._m(91),t._v(" "),t._m(92),t._m(93),t._v(" "),t._m(94),t._v(" "),t._m(95),t._m(96),t._v(" "),t._m(97),t._v(" "),t._m(98),t._v(" "),t._m(99),t._v(" "),t._m(100),t._v(" "),t._m(101),t._v(" "),t._m(102),t._m(103),t._v(" "),t._m(104),t._v(" "),t._m(105)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"get-start"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-start","aria-hidden":"true"}},[this._v("#")]),this._v(" Get Start")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"一、搭建开发环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、搭建开发环境","aria-hidden":"true"}},[this._v("#")]),this._v(" 一、搭建开发环境")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"二、工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 二、工具")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"调试工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调试工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 调试工具")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"优化分析工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优化分析工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 优化分析工具")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"反编译工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#反编译工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 反编译工具")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"模拟器调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模拟器调试","aria-hidden":"true"}},[this._v("#")]),this._v(" 模拟器调试")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("执行 "),s("code",[this._v("adb connect 127.0.0.1:7555")]),this._v(" 连接MUMU模拟器")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("启动项目："),s("code",[this._v("react-native run-android")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"三、创建一个新项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、创建一个新项目","aria-hidden":"true"}},[this._v("#")]),this._v(" 三、创建一个新项目")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ react-native init AwesomeProject\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("ul",[a("li",[t._v("你可以使用 "),a("code",[t._v("--version")]),t._v(" 参数（注意是两个杠）创建指定版本的项目。例如 "),a("code",[t._v("react-native init MyApp --version 0.44.3")]),t._v("。注意版本号必须精确到两个小数点。")]),t._v(" "),a("li",[t._v("你还可以使用 "),a("code",[t._v("--tepmlate")]),t._v(" 参数创建指定模版的项目。例如 "),a("code",[t._v("react-native init MyApp --template youngjuning")]),t._v("。模版可以去 npm 搜索，格式是 "),a("code",[t._v("react-native-template-*")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-1-react-native-0-57-适配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-react-native-0-57-适配","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.1 react-native 0.57.* 适配")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-2-es6-装饰器-decorators-及runtime-支持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-es6-装饰器-decorators-及runtime-支持","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.2 ES6 装饰器(decorators)及runtime 支持")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("安装babel相关库： "),s("code",[this._v("yarn add @babel/core @babel/plugin-proposal-decorators @babel/plugin-transform-runtime @babel/runtime")])]),this._v(" "),s("li",[this._v("如果使用了装饰器（Mobx用得到），则需要配置 "),s("code",[this._v(".babelrc")]),this._v(":")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"@babel/plugin-proposal-decorators"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token property"}},[t._v('"legacy"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"@babel/transform-runtime"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token property"}},[t._v('"helpers"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token property"}},[t._v('"regenerator"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-3-symbol语法支持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-symbol语法支持","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.3 Symbol语法支持")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("Can't find variable: Symbol")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ yarn add es6-symbol\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("并把下面的代码加入 "),s("code",[this._v("index.js")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("import 'es6-symbol/implement'\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"四、优化开发体验"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、优化开发体验","aria-hidden":"true"}},[this._v("#")]),this._v(" 四、优化开发体验")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-1、npm-scripts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1、npm-scripts","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.1、npm scripts")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("你是否还在手动删除 "),s("code",[this._v("build")]),this._v(" 文件夹？？")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("解决麻烦的方法其实很简单，那就是配置常用的命令到 "),a("code",[t._v("npm scripts")]),t._v(" 中去（"),a("code",[t._v("package.json")]),t._v(" 的 "),a("code",[t._v("scripts")]),t._v(" 配置项）,一下就是本库的 "),a("code",[t._v("npm scripts")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"start"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"node node_modules/react-native/local-cli/cli.js start"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"test"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"jest"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"docs:dev"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"vuepress dev docs"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"docs:build"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"vuepress build docs"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"clean"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"cd android && ./gradlew clean"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"dev"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"yarn clean && react-native run-android"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"assembleRelease"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"cd android && ./gradlew assembleRelease"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"installRelease"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"cd android && ./gradlew installRelease"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"keygen"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"keytool -genkey -v -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 36500"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"key-debug"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"keytool -list -v -keystore ~/.android/debug.keystore"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"key-release"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"keytool -v -list -keystore  ./android/app/my-release-key.keystore"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"bundle-android"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"react-native bundle --entry-file index.js --bundle-output ./android-bundle/index.android.bundle --platform android --assets-dest ./android-bundle --dev false --sourcemap-output ./android-bundle/android-release.bundle.map"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"bundle-ios"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"react-native bundle --entry-file index.js --bundle-output ./ios-bundle/index.ios.bundle --platform ios --assets-dest ./ios-bundle --dev false --sourcemap-output ./ios-bundle/ios-release.bundle.map"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"code-push-ios"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"code-push release-react mobileapp  ios  -d Staging --targetBinaryVersion 1.0.0"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"code-push-android"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"code-push release-react mobileapp  android  -d Staging --targetBinaryVersion 1.0.0"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-2、让-react-native-支持使用-jsx-后缀"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2、让-react-native-支持使用-jsx-后缀","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.2、让 react-native 支持使用 .jsx 后缀")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("配置这个并不只是强迫症所致（完全是强迫症所致），而是为了让编辑器更好的区别 "),s("code",[this._v("js")]),this._v(" 语法和 "),s("code",[this._v("jsx")]),this._v(" 语法。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("> 0.57.")]),this._v("*")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在项目根目录新建 "),s("strong",[this._v("metro.config.js")]),this._v(" 文件并写入以下内容：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// @name Make ReactNative Great Again")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// @description Allows you to enable support for JSX files, and `.mjs` files which is the new node standard")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// @source http://www.fallingcanbedeadly.com/posts/enabling-react-native-jsx-extension")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// @source https://github.com/airbnb/javascript/issues/982")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// @note One caveat, The `index.js` file in the root of your project has to be `.js`.")]),t._v("\nmodule"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  resolver"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    sourceExts"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'js'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'json'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'ts'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'tsx'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'jsx'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("< 0.57.")]),this._v("*")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// @name Make ReactNative Great Again")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// @description Allows you to enable support for JSX files, and `.mjs` files which is the new node standard")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// @source http://www.fallingcanbedeadly.com/posts/enabling-react-native-jsx-extension")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// @issues https://github.com/airbnb/javascript/issues/982")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// @issues https://github.com/facebook/metro/issues/248")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// @note One caveat, The `index.js` file in the root of your project has to be `.js`.")]),t._v("\nmodule"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  getSourceExts"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'jsx'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'mjs'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'js'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-3、eslint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3、eslint","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.3、eslint")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-4、editorconfig"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4、editorconfig","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.4、editorconfig")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# EditorConfig is awesome: http://EditorConfig.org\n\n# top-most EditorConfig file\nroot = true\n\n# Unix-style newlines with a newline ending every file\n[*]\nindent_style = space\nindent_size = 2\nend_of_line = lf\ncharset = utf-8\ntrim_trailing_whitespace = true\ninsert_final_newline = true\n\n[*.gradle]\nindent_size = 4\n\n[BUCK]\nindent_size = 4\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-5、屏蔽所有-yellowbox"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-5、屏蔽所有-yellowbox","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.5、屏蔽所有 YellowBox")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("index.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 关闭全部的警告")]),t._v("\nYellowBox"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("ignoreWarnings")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 或者通过这句代码屏蔽 YellowBox")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// console.disableYellowBox = true")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-6、console-语句自动删除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-6、console-语句自动删除","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.6、console.* 语句自动删除")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("首先需要使用 "),s("code",[this._v("yarn add --dev babel-plugin-transform-remove-console")]),this._v(" 来安装，然后在项目根目录下编辑（或者是新建）一个名为  "),s("code",[this._v(".babelrc")]),this._v(" 的文件，在其中加入：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"env"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"production"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"transform-remove-console"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"五、android"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、android","aria-hidden":"true"}},[this._v("#")]),this._v(" 五、Android")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_5-1、maven-仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1、maven-仓库","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.1、Maven 仓库")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("aliyun是为了加快下载速度、jitpack是因为有些库需要它")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("将以下代码配置到"),s("code",[this._v("android/build.gradle")]),this._v(" 配置文件的 "),s("code",[this._v("buildscript/repositories")]),this._v(" 和 "),s("code",[this._v("allprojects/repositories")]),this._v(" 下")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-grrovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("maven{\n    url 'http://maven.aliyun.com/nexus/content/groups/public/'\n    name 'aliyun'\n}\nmaven {\n    url \"https://jitpack.io\"\n    name 'jitpack'\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_5-2、打包apk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-2、打包apk","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.2、打包APK")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("在项目根目录执行 "),a("code",[t._v("yarn keygen")]),t._v(" 生成密钥文件 "),a("code",[t._v("my-release-key.keystore")])]),t._v(" "),a("li",[t._v("把 "),a("code",[t._v("my-release-key.keystore")]),t._v(" 文件放到你工程中的 "),a("code",[t._v("android/app")]),t._v(" 文件夹下。")]),t._v(" "),a("li",[t._v("编辑 "),a("code",[t._v("android/gradle.properties")]),t._v(" ，添加如下的代码（注意把其中的****替换为相应密码）")]),t._v(" "),a("li",[t._v("编辑 "),a("code",[t._v("android/gradle.properties")]),t._v(" ，添加如下的代码（注意把其中的****替换为相应密码）")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{attrs:{class:"token attr-name"}},[t._v("MYAPP_RELEASE_STORE_FILE")]),a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token attr-value"}},[t._v("my-release-key.keystore")]),t._v("\n"),a("span",{attrs:{class:"token attr-name"}},[t._v("MYAPP_RELEASE_KEY_ALIAS")]),a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token attr-value"}},[t._v("my-key-alias")]),t._v("\n"),a("span",{attrs:{class:"token attr-name"}},[t._v("MYAPP_RELEASE_STORE_PASSWORD")]),a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token attr-value"}},[t._v("****")]),t._v("\n"),a("span",{attrs:{class:"token attr-name"}},[t._v("MYAPP_RELEASE_KEY_PASSWORD")]),a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token attr-value"}},[t._v("****")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"5"}},[s("li",[this._v("配置 "),s("strong",[this._v("android/app/build.gradle")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("android"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    signingConfigs "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        debug "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        release "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("hasProperty")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'MYAPP_RELEASE_STORE_FILE'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                storeFile "),a("span",{attrs:{class:"token function"}},[t._v("file")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MYAPP_RELEASE_STORE_FILE"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                storePassword MYAPP_RELEASE_STORE_PASSWORD\n                keyAlias MYAPP_RELEASE_KEY_ALIAS\n                keyPassword MYAPP_RELEASE_KEY_PASSWORD\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    buildTypes "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        release "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n            signingConfig signingConfigs"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("release\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("release "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    storeFile "),a("span",{attrs:{class:"token function"}},[t._v("file")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string gstring"}},[t._v('"my-release-key.keystore"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    storePassword "),a("span",{attrs:{class:"token string gstring"}},[t._v('"123456"')]),t._v("\n    keyAlias "),a("span",{attrs:{class:"token string gstring"}},[t._v('"my-key-alias"')]),t._v("\n    keyPassword "),a("span",{attrs:{class:"token string gstring"}},[t._v('"123456"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_5-3、打包优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-3、打包优化","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.3、打包优化")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1、启用-proguard-代码混淆来缩小-apk文件的大小"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、启用-proguard-代码混淆来缩小-apk文件的大小","aria-hidden":"true"}},[this._v("#")]),this._v(" 1、启用 Proguard 代码混淆来缩小 APK文件的大小")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("打开 "),s("code",[this._v("android/app/build.gradle")]),this._v(" 文件，设置 "),s("code",[this._v("minifyEnabled")]),this._v(" 选项为 "),s("code",[this._v("true")]),this._v("：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" enableProguardInReleaseBuilds "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("警告：启用Proguard之后，你必须再次全面地测试你的应用。Proguard有时候需要为你引入的每个原生库做一些额外的配置。参见 app/proguard-rules.pro 文件和每个原生库的安装说明")]),this._v(" "),s("p",[this._v("当您使用ProGuard时，您必须始终解决所有警告。")]),this._v(" "),s("p",[this._v("这些警告告诉你，这些库引用了一些代码，没有任何来源。那可能可能不行这取决于有问题的代码是否被调用。http://t.cn/EwIL17p")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2、配置-packagingoptions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置-packagingoptions","aria-hidden":"true"}},[this._v("#")]),this._v(" 2、配置 PackagingOptions")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("打开 "),s("code",[this._v("android/app/build.gradle")]),this._v(" 文件")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-grrovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 打包配置（http://t.cn/Ewt1xD2）\npackagingOptions {\n    /**\n     * 1、pickFirsts:当出现重复文件，会使用第一个匹配的文件打包进入apk\n     * 2、merges:当出现重复文件，合并重复的文件打入apk\n     * 3、excludes:打包的时候排除匹配的文件\n     */\n    /* pickFirsts = ['META-INF/LICENSE'] */\n    /* merge 'META-INF/LICENSE' */\n    exclude 'META-INF/LICENSE'\n    exclude 'META-INF/NOTICE.txt'\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_3、配置-splits（可选）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置-splits（可选）","aria-hidden":"true"}},[this._v("#")]),this._v(" 3、配置 splits（可选）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("你可以在 "),s("code",[this._v("android/app/build.gradle")]),this._v(" 中修改如下代码（false 改为 true）来生成针对不同 CPU 架构的 APK。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_4、开启-zipalignenabled"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、开启-zipalignenabled","aria-hidden":"true"}},[this._v("#")]),this._v(" 4、开启 zipAlignEnabled")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("buildTypes "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  release "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      signingConfig signingConfigs"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("release\n      minifyEnabled enableProguardInReleaseBuilds\n      zipAlignEnabled "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 对齐zip")]),t._v("\n      proguardFiles "),a("span",{attrs:{class:"token function"}},[t._v("getDefaultProguardFile")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string gstring"}},[t._v('"proguard-android.txt"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string gstring"}},[t._v('"proguard-rules.pro"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_6、开启-shrinkresources-和-设置debuggable为false"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、开启-shrinkresources-和-设置debuggable为false","aria-hidden":"true"}},[this._v("#")]),this._v(" 6、开启 shrinkResources 和 设置debuggable为false")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("buildTypes "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  release "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      signingConfig signingConfigs"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("release\n      minifyEnabled enableProguardInReleaseBuilds\n      zipAlignEnabled "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n      shrinkResources "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 移除无用的resource文件")]),t._v("\n      debuggable "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 是否debug")]),t._v("\n      proguardFiles "),a("span",{attrs:{class:"token function"}},[t._v("getDefaultProguardFile")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string gstring"}},[t._v('"proguard-android.txt"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string gstring"}},[t._v('"proguard-rules.pro"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_6、去除无用的语言资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、去除无用的语言资源","aria-hidden":"true"}},[this._v("#")]),this._v(" 6、去除无用的语言资源")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通过配置 "),s("code",[this._v("android/defaultConfig/resConfigs")]),this._v("  可以选择只打包哪几种语言，进而去掉各种 "),s("code",[this._v("aar")]),this._v(" 包中全世界的语言，尤其是 "),s("strong",[this._v("support")]),this._v(" 包中的。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("defaultConfig "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n    resConfigs "),a("span",{attrs:{class:"token string gstring"}},[t._v('"en"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token string gstring"}},[t._v('"zh"')]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 只使用英语和中文语言")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_7、避免使用重复的库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7、避免使用重复的库","aria-hidden":"true"}},[this._v("#")]),this._v(" 7、避免使用重复的库")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("compile")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'com.facebook.android:audience-network-sdk:4.23.0'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    exclude group"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'com.android.support'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" module"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'appcompat-v7'")]),a("span",{attrs:{class:"token comment"}},[t._v("// 因为项目引用了v7包，这里排除第三方库的v7包，避免重复")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("compile")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'com.google.firebase:firebase-ads:9.6.1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    exclude group"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'com.android.support'")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 因为项目引用了v7包，这里排除第三方库的v7包，避免重复")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_8、使用-implementation-代替-compile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8、使用-implementation-代替-compile","aria-hidden":"true"}},[this._v("#")]),this._v(" 8、使用 implementation 代替 compile")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://i.loli.net/2018/11/02/5bdb50fb13fa5.png",alt:""}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("如图，'compile' 已经被废弃并且已经被 'impementation' 和 'api' 代替.而且 2018 年底会彻底废弃，修复的话就是把 "),a("strong",[t._v("android\\app\\build.gradle")]),t._v(" 中的 "),a("code",[t._v("dependencies")]),t._v(" 配置中的 "),a("code",[t._v("compile")]),t._v(" 改为 "),a("code",[t._v("impementation")]),t._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_9、配置-dexoptions-javamaxheapsize"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9、配置-dexoptions-javamaxheapsize","aria-hidden":"true"}},[this._v("#")]),this._v(" 9、配置 dexOptions.javaMaxHeapSize")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("android studio 需要较大的内存才能正常编译项目")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 "),s("strong",[this._v("android\\gradle.properties")]),this._v(" 中加入以下配置")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 主要解决这个警告：com.android.build.api.transform.TransformException：http://t.cn/EZcTDtV")]),t._v("\n"),a("span",{attrs:{class:"token attr-name"}},[t._v("dexOptions.javaMaxHeapSize")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token attr-value"}},[t._v("2g")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_10、配置方法数超过-64k-的应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10、配置方法数超过-64k-的应用","aria-hidden":"true"}},[this._v("#")]),this._v(" 10、配置方法数超过 64K 的应用")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("随着 Android 平台的持续成长，Android 应用的大小也在增加。当您的应用及其引用的库达到特定大小时，您会遇到构建错误，指明您的应用已达到 Android 应用构建架构的极限。会报告这一错误：")]),this._v(" "),s("p",[this._v("The number of method references in a .dex file cannot exceed 64K.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 "),s("strong",[this._v("android/app/build.gradle")]),this._v(" 中做下面的配置：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("android "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n    defaultConfig "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n        multiDexEnabled "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_11、删除未使用到xml和图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11、删除未使用到xml和图片","aria-hidden":"true"}},[this._v("#")]),this._v(" 11、删除未使用到xml和图片")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[a("code",[t._v("Android Studio")]),t._v(" -> "),a("code",[t._v("Menu")]),t._v(" -> "),a("code",[t._v("Refactor")]),t._v(" -> "),a("code",[t._v("Remove Unused Resources")])]),t._v(" "),a("li",[t._v("选择 "),a("code",[t._v("Refactor")]),t._v(" 一键删除")]),t._v(" "),a("li",[t._v("选择 "),a("code",[t._v("Perview")]),t._v(" 预览未使用到的资源")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("点击菜单栏 "),a("code",[t._v("Analyze")]),t._v(" -> "),a("code",[t._v("Run Inspection by Name")]),t._v(" -> "),a("code",[t._v("unused resources")]),t._v(" -> "),a("code",[t._v("Moudule ‘app’")]),t._v(" -> "),a("code",[t._v("OK")]),t._v("，这样会搜出来哪些未被使用到未使用到xml和图片，如下：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"http://wuxiaolong.me/images/reduceAPKSize1.png",alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_12、删除未使用到代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12、删除未使用到代码","aria-hidden":"true"}},[this._v("#")]),this._v(" 12、删除未使用到代码")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("同样使用 Android Studio 的 Lint ，步骤：点击菜单栏 "),a("code",[t._v("Analyze")]),t._v(" -> "),a("code",[t._v("Run Inspection by Name")]),t._v(" -> "),a("code",[t._v("unused declaration")]),t._v(" -> "),a("code",[t._v("Moudule ‘app’")]),t._v(" -> "),a("code",[t._v("OK")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_13、使用微信android资源混淆工具（可选）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13、使用微信android资源混淆工具（可选）","aria-hidden":"true"}},[this._v("#")]),this._v(" 13、使用微信Android资源混淆工具（可选）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("微信AndResGuard是一个帮助你缩小APK大小的工具，详情："),s("img",{attrs:{src:"https://github.com/shwenzhang/AndResGuard",alt:"Android资源混淆工具使用说明"}}),this._v("。使用方法：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_5-4-自定义安卓打包的后缀"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-自定义安卓打包的后缀","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.4 自定义安卓打包的后缀")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("releaseTime")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("format")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string gstring"}},[t._v('"yyyyMMdd-HHmmss"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" TimeZone"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getTimeZone")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string gstring"}},[t._v('"GMT+08:00"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\nandroid"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    applicationVariants"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("all "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" variant "),a("span",{attrs:{class:"token operator"}},[t._v("->")]),t._v("\n    \t\tvariant"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("outputs"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("all "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token comment"}},[t._v("// the apk name is e.g. galaxy_v1.0.1_2018-11-1_debug.apk")]),t._v("\n            outputFileName "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string gstring"}},[t._v('"galaxy_v'),a("span",{attrs:{class:"token expression"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("$")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("defaultConfig"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("versionName"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("_"),a("span",{attrs:{class:"token expression"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("$")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token function"}},[t._v("releaseTime")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("_"),a("span",{attrs:{class:"token expression"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("$")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("variant"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("buildType"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("name"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('.apk"')]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_5-5、配置app名称"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-5、配置app名称","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.5、配置App名称")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("很简单,我们直接打开 "),s("strong",[this._v("android/app/src/main/res/values/strings.xml")]),this._v("，即可看到配置中的 "),s("code",[this._v("app_name")]),this._v("，修改为你想要的即可:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("resources")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("string")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app_name"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("银河"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("resources")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_5-6、修改app的图标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-6、修改app的图标","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.6、修改App的图标")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("也很简单，在 "),s("strong",[this._v("android\\app\\src\\main\\res\\mipmap-xxxxxx")]),this._v(" 中直接覆盖图标就可以，注意图标的大小。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"其他"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他","aria-hidden":"true"}},[this._v("#")]),this._v(" 其他")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"处理系统文字"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#处理系统文字","aria-hidden":"true"}},[this._v("#")]),this._v(" 处理系统文字")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"android"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#android","aria-hidden":"true"}},[this._v("#")]),this._v(" Android")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 "),s("strong",[this._v("android\\app\\src\\main\\java\\com\\galaxy\\MainApplication.java")]),this._v(" 文件中加入如下代码：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" android"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Configuration"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" android"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Resources"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 让文字不随系统文字变化：http://t.cn/Rs26Veb")]),t._v("\n"),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("onConfigurationChanged")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Configuration newConfig"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newConfig"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fontScale "),a("span",{attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token comment"}},[t._v("//非默认值")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("getResources")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("super")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("onConfigurationChanged")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newConfig"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Resources "),a("span",{attrs:{class:"token function"}},[t._v("getResources")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Resources res "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("super")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getResources")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getConfiguration")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fontScale "),a("span",{attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token comment"}},[t._v("//非默认值")]),t._v("\n    Configuration newConfig "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Configuration")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    newConfig"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setToDefaults")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{attrs:{class:"token comment"}},[t._v("//设置默认")]),t._v("\n    res"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("updateConfiguration")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newConfig"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getDisplayMetrics")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"ios"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ios","aria-hidden":"true"}},[this._v("#")]),this._v(" iOS")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("安装 "),a("strong",[t._v("react-native-add-custom-props")]),t._v(" : "),a("code",[t._v("yarn add react-native-add-custom-props")])]),t._v(" "),a("li",[t._v("在 "),a("code",[t._v("index.js")]),t._v(" 中配置如下")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" addCustomProps "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'react-native-add-custom-props'")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 处理ios系统文字")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("iOS"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("addCustomProps")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Text"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" allowFontScaling"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("addCustomProps")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TextInput"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" allowFontScaling"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])])}],!1,null,null,null);e.options.__file="README.md";s.default=e.exports}}]);