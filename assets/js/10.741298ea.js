(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{147:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._m(2),t._v(" "),a("p",[t._v("执行以下命令")]),t._v(" "),t._m(3),a("p",[t._v("或直接打开 https://appcenter.ms/ 注册")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),a("p",[t._v("我们在RN项目的根组件中添加热更新逻辑代码如下：")]),t._v(" "),t._m(30),t._v(" "),t._m(31),t._m(32),t._v(" "),t._m(33),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._m(42),t._v(" "),t._m(43),t._m(44),t._v(" "),t._m(45),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("ol",[t._m(54),t._v(" "),a("li",[a("code",[t._v("releaseStaging")]),t._v(" 的命名是由于"),a("a",{attrs:{href:"http://t.cn/EAnyAzi",target:"_blank",rel:"noopener noreferrer"}},[t._v("这一行"),a("OutboundLink")],1)])])]),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._m(58),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),a("div",{staticClass:"danger custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("如果报 "),a("code",[t._v("Unable to find a matching configuration of project :react-native-code-push")]),t._v(" 的错误，请参考 "),a("a",{attrs:{href:"http://t.cn/EAex4XH",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://t.cn/EAex4XH"),a("OutboundLink")],1),t._v(" 解决。")])]),t._v(" "),t._m(61),t._v(" "),t._m(62),t._m(63),t._m(64),t._v(" "),t._m(65),t._m(66),t._m(67),t._v(" "),t._m(68),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://t.cn/RUzsKDO",target:"_blank",rel:"noopener noreferrer"}},[t._v("Microsoft/code-push "),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://t.cn/R4Nzj11",target:"_blank",rel:"noopener noreferrer"}},[t._v("Microsoft/react-native-code-push"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://t.cn/EAtVS21",target:"_blank",rel:"noopener noreferrer"}},[t._v("CodePush热更新详细接入教程"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://t.cn/EAHMYiw",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Native热更新部署/热更新-CodePush最新集成总结(新)"),a("OutboundLink")],1)])]),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),t._m(71),t._m(72),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78),t._v(" "),t._m(79),t._v(" "),t._m(80),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),t._m(83)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"一、全局安装-code-push-cli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、全局安装-code-push-cli","aria-hidden":"true"}},[this._v("#")]),this._v(" 一、全局安装 code-push-cli")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" i -g code-push-cli\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"二、注册-app-center"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、注册-app-center","aria-hidden":"true"}},[this._v("#")]),this._v(" 二、注册 App Center")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ code-push register\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"三、登录app-center"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、登录app-center","aria-hidden":"true"}},[this._v("#")]),this._v(" 三、登录App Center")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ code-push login --accessKey "),s("span",{attrs:{class:"token operator"}},[this._v("<")]),this._v("accessKey"),s("span",{attrs:{class:"token operator"}},[this._v(">")]),this._v("\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("回车后，会打开 "),s("strong",[this._v("App Center")]),this._v(" 的网址。根据提示复制密钥到命令行中回车即可：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://i.loli.net/2018/11/09/5be550345956e.png",alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"四、-在app-center注册app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、-在app-center注册app","aria-hidden":"true"}},[this._v("#")]),this._v(" 四、 在App Center注册App")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("为了让 "),s("strong",[this._v("App Center")]),this._v(" 有我们的App，我们需要 "),s("strong",[this._v("App Center")]),this._v(" 注册App，输入下面命令即可完成注册，这里需要注意如果我们的应用分为iOS和Android两个平台，这时我们需要分别注册两套key。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("应用添加成功后就会返回对应的 "),a("code",[t._v("production")]),t._v(" 和 "),a("code",[t._v("Staging")]),t._v(" 两个key，"),a("code",[t._v("production")]),t._v(" 代表生产版的热更新部署，"),a("code",[t._v("Staging")]),t._v(" 代表开发版的热更新部署，在 ios 中将 "),a("code",[t._v("staging")]),t._v(" 的部署 key 复制在 "),a("code",[t._v("info.plist")]),t._v("的 "),a("code",[t._v("CodePushDeploymentKey")]),t._v(" 值中，在 android 中复制在 Application 的 getPackages 的 CodePush 中。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-1-添加ios平台应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-添加ios平台应用","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.1 添加iOS平台应用")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ code-push app add iOSRNHybrid ios react-native\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("执行结果：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://i.loli.net/2018/11/09/5be5528e9bcd5.png",alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-2-添加-android-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-添加-android-命令","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.2 添加 android 命令")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ code-push app add iOSRNHybridForAndroid Android react-native\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("执行结果：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://i.loli.net/2018/11/09/5be552ec02364.png",alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"五、查看添加的app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、查看添加的app","aria-hidden":"true"}},[this._v("#")]),this._v(" 五、查看添加的App")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ code-push app list\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"六、集成-react-native-code-push"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、集成-react-native-code-push","aria-hidden":"true"}},[this._v("#")]),this._v(" 六、集成 react-native-code-push")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_6-1-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 6.1 安装")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("blockquote",[a("p",[t._v("执行 "),a("code",[t._v("link")]),t._v(" 命令会让你输入 "),a("code",[t._v("Android")]),t._v(" 和 "),a("code",[t._v("iOS")]),t._v(" 两个平台的 "),a("code",[t._v("key")]),t._v("，可以忽略，也可以直接填写。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ yarn add react-native-code-push\n$ react-native "),s("span",{attrs:{class:"token function"}},[this._v("link")]),this._v(" react-native-code-push\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("可以通过 "),s("code",[this._v("code-push deployment ls <appName> -k")]),this._v(" 命令查看应用的key")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_6-2-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 6.2 配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("这节是可选的，如果事多部署环境的话请参考第九节")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("在 "),a("code",[t._v("ios")]),t._v(" 中将 "),a("code",[t._v("staging")]),t._v(" 的部署 "),a("code",[t._v("key")]),t._v(" 复制在 "),a("code",[t._v("info.plist")]),t._v("的 "),a("code",[t._v("CodePushDeploymentKey")]),t._v(" 值中，")]),t._v(" "),a("li",[t._v("在 "),a("code",[t._v("android")]),t._v(" 中复制在 "),a("code",[t._v("Application")]),t._v(" 的 "),a("code",[t._v("getPackages")]),t._v(" 的 "),a("code",[t._v("CodePush")]),t._v(" 中或 "),a("code",[t._v('<string moduleConfig="true" name="reactNativeCodePush_androidDeploymentKey">\x3c!--here your code-push key--\x3e</string>')]),t._v(" 中")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_6-3-使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-使用","aria-hidden":"true"}},[this._v("#")]),this._v(" 6.3 使用")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("App.jsx")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" StyleSheet"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Image"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" View"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Text "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'react-native'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" CodePush "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'react-native-code-push'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" checkHotUpdate "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'./src/utils/checkHotUpdate'")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" codePushOptions "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// 设置检查更新的频率")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// ON_APP_RESUME APP恢复到前台的时候")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// ON_APP_START APP开启的时候")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// MANUAL 手动检查")]),t._v("\n  checkFrequency"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CheckFrequency"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("ON_APP_RESUME")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("App")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("componentDidMount")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("disallowRestart")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token comment"}},[t._v("// 禁止重启")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("checkHotUpdate")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 开始检查更新")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{attrs:{class:"token function"}},[t._v("render")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("View style"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("styles"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("container"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("Image\n          resizeMode"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"cover"')]),t._v("\n          source"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" uri"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'https://placeimg.com/400/400/any'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          style"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("styles"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("welcome"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("Text onPress"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("alert")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'我是文字'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("React Native Text"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("Text"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("View"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" styles "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" StyleSheet"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("create")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  container"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    flex"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    justifyContent"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'center'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    alignItems"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'center'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    backgroundColor"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'#F2F2F2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  welcome"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    width"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("400")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    height"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("400")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("CodePush")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("codePushOptions"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("App"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("checkHotUpdate.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("sync")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      installMode"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("InstallMode"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("IMMEDIATE")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// updateDialog: {},")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("status"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("status"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SyncStatus"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("CHECKING_FOR_UPDATE")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 检查更新")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SyncStatus"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("DOWNLOADING_PACKAGE")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 正在下载")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SyncStatus"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("AWAITING_USER_ACTION")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 等待用户操作")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SyncStatus"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("INSTALLING_UPDATE")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 下载更新")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SyncStatus"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("UP_TO_DATE")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 已更新")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SyncStatus"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("UPDATE_IGNORED")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 忽略更新")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SyncStatus"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("UPDATE_INSTALLED")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SyncStatus"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("UNKNOWN_ERROR")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 未知错误")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" receivedBytes"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" totalBytes "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// const progress = parseFloat(receivedBytes / totalBytes).toFixed(2)")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("receivedBytes "),a("span",{attrs:{class:"token operator"}},[t._v(">=")]),t._v(" totalBytes"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        CodePush"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("allowRestart")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 强制更新")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"七、-如何发布codepush更新包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、-如何发布codepush更新包","aria-hidden":"true"}},[this._v("#")]),this._v(" 七、 如何发布CodePush更新包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_7-1、手动生成bundle包【可略过】"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-1、手动生成bundle包【可略过】","aria-hidden":"true"}},[this._v("#")]),this._v(" 7.1、手动生成bundle包【可略过】")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("在将RN的 "),a("code",[t._v("bundle")]),t._v(" 放到 "),a("strong",[t._v("AppCenter")]),t._v(" 服务器之前，我们需要先生成 "),a("code",[t._v("bundle")]),t._v("，再将 "),a("code",[t._v("bundle")]),t._v(" 上传到 "),a("strong",[t._v("AppCenter")]),t._v("。用到的文件夹必须已经存在。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("生成 "),s("code",[this._v("bundle")]),this._v(" 命名："),s("code",[this._v("react-native bundle --platform 平台 --entry-file 启动文件 --bundle-output 打包js输出文件 --assets-dest 资源输出目录 --dev 是否调试")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ react-native bundle --platform android --entry-file index.js --bundle-output ./bundle/android/main.jsbundle --assets-dest ./bundle/android --dev "),s("span",{attrs:{class:"token boolean"}},[this._v("false")]),this._v("\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_7-2、生成并上传bundle"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-2、生成并上传bundle","aria-hidden":"true"}},[this._v("#")]),this._v(" 7.2、生成并上传bundle")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("生成bundle文件并上传到CodePush，我们直接执行下面的命令即可")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ code-push release-react "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("AppName"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("Platform"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --t "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("本更新包面向的旧版本号"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --des "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("本次更新说明"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[a("strong",[t._v("CodePush")]),t._v(" 默认是更新 "),a("strong",[t._v("Staging")]),t._v(" 环境的，如果发布生产环境的更新包，需要指定 "),a("code",[t._v("-d")]),t._v(" 参数："),a("code",[t._v("-d Production")]),t._v("，如果发布的是强制更新包，需要加上 "),a("code",[t._v("-m true")]),t._v(" 强制更新。"),a("code",[t._v("--dev")]),t._v(" 为是否启用开发者模式（默认为 false）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ code-push release-react iOSRNHybrid ios --t 1.0.0 --des "),s("span",{attrs:{class:"token string"}},[this._v("'这是第一个更新包'")]),this._v(" -d Production  -m "),s("span",{attrs:{class:"token boolean"}},[this._v("true")]),this._v("\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_7-3、查看发布的历史记录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-3、查看发布的历史记录","aria-hidden":"true"}},[this._v("#")]),this._v(" 7.3、查看发布的历史记录")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ code-push deployment "),a("span",{attrs:{class:"token function"}},[t._v("history")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("projectName"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("Staging/Production"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"八、添加部署环境（可选）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、添加部署环境（可选）","aria-hidden":"true"}},[this._v("#")]),this._v(" 八、添加部署环境（可选）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当一个用 AppCenter 服务注册的应用，它默认包含两个部署环境："),s("code",[this._v("Staging")]),this._v(" 和 "),s("code",[this._v("Production")]),this._v(" 。这让你可以理解发布更新到一个内部的环境，你可以在推送到终端用户之前彻底的测试每个更新。这个工作流是至关重要的，以确保你的版本准备好给大众，而且这是一个在Web上实践很久的惯例。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("如果你的App有 "),a("code",[t._v("Staging")]),t._v(" 和 "),a("code",[t._v("Production")]),t._v(" 环境其实已经满足了你的需求，然后你不需要做任何事情。不过，如果你需要 "),a("code",[t._v("alpha")]),t._v("，"),a("code",[t._v("dev")]),t._v("等部署环境，那你可以简单的使用如下命令创建：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ code-push deployment add "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("appName"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("deploymentName"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"九、多部署环境key配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#九、多部署环境key配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 九、多部署环境key配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_9-1、安卓"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-1、安卓","aria-hidden":"true"}},[this._v("#")]),this._v(" 9.1、安卓")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("打开"),a("code",[t._v("android/app/build.gradle")]),t._v(",找到 "),a("code",[t._v("android { buildTypes {} }")]),t._v(" 部分并为你的 "),a("code",[t._v("debug")]),t._v(" 和 "),a("code",[t._v("release")]),t._v(" 构建类型都定义 "),a("code",[t._v("buildConfigField")]),t._v(" 配置项。构建类型 "),a("code",[t._v("debug")]),t._v(" 对应 AppCenter 发布类型 "),a("code",[t._v("Staging")]),t._v("，同理 "),a("code",[t._v("release")]),t._v(" 对应 "),a("code",[t._v("Production")]),t._v("。如果你喜欢，你可以定义把你的key定义在 "),a("code",[t._v("gradle.properties")]),t._v("，然后引用他们。怎么配置全凭个人喜好。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("android "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n    buildTypes "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        debug "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n            "),a("span",{attrs:{class:"token comment"}},[t._v("// 注意： 由于会被 RN packager 覆盖，所以CodePush 更新不应该在 Debug 模式下被测试。然而由于 CodePush 在所有模式下都会检查更新，所有我们必须提供一个key（如果你在前端判断了模式，那就不用）")]),t._v("\n            buildConfigField "),a("span",{attrs:{class:"token string gstring"}},[t._v('"String"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string gstring"}},[t._v('"CODEPUSH_KEY"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'\"\"'")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        releaseStaging "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n            buildConfigField "),a("span",{attrs:{class:"token string gstring"}},[t._v('"String"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string gstring"}},[t._v('"CODEPUSH_KEY"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'\"<INSERT_STAGING_KEY>\"'")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        release "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n            buildConfigField "),a("span",{attrs:{class:"token string gstring"}},[t._v('"String"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string gstring"}},[t._v('"CODEPUSH_KEY"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'\"<INSERT_PRODUCTION_KEY>\"'")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("提醒一句，你可以在命令行通过 "),s("code",[this._v("code-push deployment ls <APP_NAME> -k")]),this._v(" 获取他们的 "),s("code",[this._v("keys")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("通过刚刚定义的构建配置将部署密钥传递给CodePush构造函数，而不是字符串文字。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("打开 "),s("code",[this._v("src/main/.../MainApplication.java")]),this._v(" 文件并做如下配置：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" List"),a("span",{attrs:{class:"token generics function"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ReactPackage"),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getPackages")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Arrays"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token generics function"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ReactPackage"),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token function"}},[t._v("asList")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("CodePush")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BuildConfig"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CODEPUSH_KEY"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MainApplication"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" BuildConfig"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DEBUG"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// Add/change this line.")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_9-2-ios"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-ios","aria-hidden":"true"}},[this._v("#")]),this._v(" 9.2 iOS")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("TODO: iOS 多部署")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"关于多部署打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于多部署打包","aria-hidden":"true"}},[this._v("#")]),this._v(" 关于多部署打包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"打production包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打production包","aria-hidden":"true"}},[this._v("#")]),this._v(" 打Production包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("cd")]),this._v(" android "),s("span",{attrs:{class:"token operator"}},[this._v("&&")]),this._v(" ./gradlew assembleRelease\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("cd")]),this._v(" android "),s("span",{attrs:{class:"token operator"}},[this._v("&&")]),this._v(" ./gradlew installRelease\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"打staging包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打staging包","aria-hidden":"true"}},[this._v("#")]),this._v(" 打Staging包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("cd")]),this._v(" android "),s("span",{attrs:{class:"token operator"}},[this._v("&&")]),this._v(" ./gradlew assembleReleaseStaging\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("cd")]),this._v(" android "),s("span",{attrs:{class:"token operator"}},[this._v("&&")]),this._v(" ./gradlew installReleaseStaging\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"十、附录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十、附录","aria-hidden":"true"}},[this._v("#")]),this._v(" 十、附录")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_10-1、参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-1、参考","aria-hidden":"true"}},[this._v("#")]),this._v(" 10.1、参考")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_10-2、命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-2、命令","aria-hidden":"true"}},[this._v("#")]),this._v(" 10.2、命令")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"手动生成bundle"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手动生成bundle","aria-hidden":"true"}},[this._v("#")]),this._v(" 手动生成bundle")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ react-native bundle --platform 平台 --entry-file 启动文件 --bundle-output 打包js输出文件 --assets-dest 资源输出目录 --dev 是否调试\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"创建账号"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建账号","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建账号")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("code-push register")]),this._v(": 注册账号")]),this._v(" "),s("li",[s("code",[this._v("code-push link")]),this._v(": CodePush提供商有Github和Mircosoft，它允许你可以把两个帐号关联起来。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"身份认证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#身份认证","aria-hidden":"true"}},[this._v("#")]),this._v(" 身份认证")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("code-push login")]),t._v(": 登录")]),t._v(" "),a("li",[a("code",[t._v("code-push whoami")]),t._v(": 显示与你当前认证会话相关的e-mail帐号")]),t._v(" "),a("li",[a("code",[t._v("code-push login --accessKey <accessKey>")]),t._v(": 执行“无头”身份验证，而不是启动一个浏览器")]),t._v(" "),a("li",[a("code",[t._v("code-push logout")]),t._v(": 注销")]),t._v(" "),a("li",[a("code",[t._v("code-push access-key ls")]),t._v(": 列出登陆的token")]),t._v(" "),a("li",[a("code",[t._v("code-push access-key rm <accessKye>")]),t._v(": 删除某个 access-key")]),t._v(" "),a("li",[a("code",[t._v('code-push access-key add "VSTS Integration"')]),t._v(": 创建一个持久的Access Key(连同一个描述)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"应用管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#应用管理","aria-hidden":"true"}},[this._v("#")]),this._v(" 应用管理")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("code-push app add iOSRNHybrid ios react-native")]),t._v(": 添加ios平台应用")]),t._v(" "),a("li",[a("code",[t._v("code-push app add iOSRNHybridForAndroid Android react-native")]),t._v(": 添加android平台应用")]),t._v(" "),a("li",[a("code",[t._v("code-push app ls")]),t._v(": 查看添加的app")]),t._v(" "),a("li",[a("code",[t._v("code-push app rm <appName>")]),t._v(": 在账号里移除一个app")]),t._v(" "),a("li",[a("code",[t._v("code-push app rename <appName> <newAppName>")]),t._v(": 重命名一个存在的app")]),t._v(" "),a("li",[a("code",[t._v("code-push app transfer")]),t._v(": 把app的所有权转移到另外一个账号")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"应用合作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#应用合作","aria-hidden":"true"}},[this._v("#")]),this._v(" 应用合作")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("$ code-push collaborator add <appName> <collaboratorEmail>")]),t._v(": 和其它开发者在一起合作同一个CodePush应用")]),t._v(" "),a("li",[a("code",[t._v("code-push collaborator rm <appName> <collaboratorEmail>")]),t._v(": 解除合作者关系")]),t._v(" "),a("li",[a("code",[t._v("code-push collaborator ls <appName>")]),t._v(": 列出所有合作者")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"部署管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署管理","aria-hidden":"true"}},[this._v("#")]),this._v(" 部署管理")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("code-push deployment add <appName> <deploymentName>")]),t._v(": 添加部署环境")]),t._v(" "),a("li",[a("code",[t._v("code-push deployment rm <appName> <deploymentName>")]),t._v(": 删除部署环境")]),t._v(" "),a("li",[a("code",[t._v("code-push deployment rename <appName> <deploymentName> <newDeploymentName>")]),t._v(": 重命名部署环境")]),t._v(" "),a("li",[a("code",[t._v("code-push deployment ls <appName> [--displayKeys|-k]")]),t._v(": 查看部署环境列表")]),t._v(" "),a("li",[a("code",[t._v("code-push deployment history <projectName> <Staging/Production>")]),t._v(": 查看发布历史")]),t._v(" "),a("li",[a("code",[t._v("code-push deployment clear <appName> <deploymentName>")]),t._v(": 清除发布历史")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"发布更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布更新","aria-hidden":"true"}},[this._v("#")]),this._v(" 发布更新")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("code-push release-react <AppName> <Platform> --t <本更新包面向的旧版本号> --des <本次更新说明> -d <Staging/Production> -m <是否强制更新>")]),this._v(": 发布新的热更新版本")])])}],!1,null,null,null);e.options.__file="code-push.md";s.default=e.exports}}]);